# ุฅุตูุงุญ ูุดุงูู Google Play Store - Compliance Fix

## ุงููุดุงูู ุงูุชู ุชู ุญููุง

### 1. โ ุฅุฐู MANAGE_EXTERNAL_STORAGE
**ุงููุดููุฉ:** Google Play ุฑูุถ ุงูุชุทุจูู ูุฃู ุงุณุชุฎุฏุงู ุฅุฐู "All Files Access" ููุณ ุฌุฒุกุงู ูู ุงููุธููุฉ ุงูุฃุณุงุณูุฉ.

**ุงูุญู:** ุชู ุฅุฒุงูุฉ `MANAGE_EXTERNAL_STORAGE` ูู AndroidManifest.xml

### 2. โ ุฃุฐููุงุช READ_MEDIA_IMAGES/READ_MEDIA_VIDEO
**ุงููุดููุฉ:** Google Play ุฑูุถ ุงูุชุทุจูู ูุฃู ูุฐู ุงูุฃุฐููุงุช ุชูุณุชุฎุฏู ููุท ูููุตูู ุงููุญุฏูุฏ/ููุฑุฉ ูุงุญุฏุฉ.

**ุงูุญู:** ุชู ุฅุฒุงูุฉ ูุฐู ุงูุฃุฐููุงุช:
- `READ_MEDIA_IMAGES`
- `READ_MEDIA_VIDEO`  
- `READ_MEDIA_AUDIO`

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ

### โ AndroidManifest.xml
```xml
<!-- ุชู ุงูุฅุจูุงุก ุนูู ูุฐู ุงูุฃุฐููุงุช ููุท -->
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" android:maxSdkVersion="32" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:maxSdkVersion="32" />
<uses-permission android:name="android.permission.READ_MEDIA_VISUAL_USER_SELECTED" />
```

### โ ุชุญุฏูุซ ุงูููุฏ

#### 1. `lib/features/downloads/data/service/download_service.dart`
- ุฅุฒุงูุฉ ุทูุจ ุฃุฐููุงุช `videos`, `audio`, `photos`
- ุฅุฒุงูุฉ ุทูุจ `MANAGE_EXTERNAL_STORAGE`
- ุงุณุชุฎุฏุงู `app-specific directory` ููุท ูู Android 13+
- ุงูุงุนุชูุงุฏ ุนูู ุฃุฐููุงุช ุงูุชุฎุฒูู ุงูุฃุณุงุณูุฉ ูู Android 12 ูุฃูู

#### 2. `lib/core/services/download_service.dart`
- ุฅุฒุงูุฉ ุทูุจ `MANAGE_EXTERNAL_STORAGE`
- ุชุจุณูุท ููุทู ุงูุฃุฐููุงุช

#### 3. `lib/core/services/download_manager.dart`
- ุฅุฒุงูุฉ ุทูุจ ุฃุฐููุงุช `photos` ู `videos`
- ุงูุงุนุชูุงุฏ ุนูู ูุฌูุฏ ุงูุชุทุจูู ุงูุฎุงุต

#### 4. `lib/features/courses/presentation/widgets/pdf_viewer_widget.dart`
- ุฅุฒุงูุฉ ุทูุจ `MANAGE_EXTERNAL_STORAGE`
- ุงุณุชุฎุฏุงู ุฃุฐููุงุช ุงูุชุฎุฒูู ุงูุฃุณุงุณูุฉ ููุท

### โ ุชุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ
```yaml
version: 1.0.7+7  # ูู 1.0.6+6
```

## ุขููุฉ ุงูุนูู ุงูุฌุฏูุฏุฉ

### Android 13+ (API 33+)
- โ ุงุณุชุฎุฏุงู `app-specific external storage directory`
- โ ูุง ูุญุชุงุฌ ุฃุฐููุงุช ุฎุงุตุฉ
- โ ุงููุณุงุฑ: `/Android/data/com.anmka.future/files/`

### Android 11-12 (API 30-32)
- โ ุงุณุชุฎุฏุงู `READ_EXTERNAL_STORAGE` ู `WRITE_EXTERNAL_STORAGE`
- โ ูุฐู ุงูุฃุฐููุงุช ูุชูููุฉ ุนูุฏ Android 12 (maxSdkVersion="32")

### Android 10 ูุฃูู (API 29-)
- โ ุงุณุชุฎุฏุงู `READ_EXTERNAL_STORAGE` ู `WRITE_EXTERNAL_STORAGE`
- โ ุฃุฐููุงุช ุชุฎุฒูู ุชูููุฏูุฉ

## ูุฒุงูุง ุงูุญู

1. โ **ูุชูุงูู 100% ูุน ุณูุงุณุงุช Google Play**
2. โ **ูุง ูุทูุจ ุฃุฐููุงุช ุบูุฑ ุถุฑูุฑูุฉ**
3. โ **ูุนูู ุนูู ุฌููุน ุฅุตุฏุงุฑุงุช Android**
4. โ **ูุณุชุฎุฏู ูุฌูุฏ ุงูุชุทุจูู ุงูุฎุงุต (ุขูู)**
5. โ **ูุง ูุญุชุงุฌ ููุงููุฉ ุฎุงุตุฉ ูู Google**

## ุฎุทูุงุช ุงูุฑูุน ุนูู Google Play

### 1. ุจูุงุก ุงูู App Bundle
```bash
flutter clean
flutter pub get
flutter build appbundle --release
```

### 2. ูููุน ุงูููู
```
i:\anmka_apps\fu\build\app\outputs\bundle\release\app-release.aab
```

### 3. ุงูุฑูุน ุนูู Play Console
1. ุงูุชุญ [Google Play Console](https://play.google.com/console)
2. ุงุฐูุจ ูู **Production** โ **Create new release**
3. ุงุฑูุน ููู `app-release.aab`
4. ุงููุฃ **Release notes** ุจุงููุบุฉ ุงูุนุฑุจูุฉ:

```
ุงูุฅุตุฏุงุฑ 1.0.7
- ุชุญุณููุงุช ูู ุงูุฃุฏุงุก ูุงูุงุณุชูุฑุงุฑ
- ุชุญุฏูุซุงุช ุฃูููุฉ
- ุฅุตูุงุญ ูุดุงูู ุงูุชุฎุฒูู
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
```

5. ุงุถุบุท **Review release** ุซู **Start rollout to Production**

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ูููุทูุฑูู
- ุฌููุน ุงูุชุญูููุงุช ุชูุญูุธ ูู ูุฌูุฏ ุงูุชุทุจูู ุงูุฎุงุต
- ูู ูุชููู ุงููุณุชุฎุฏููู ูู ุฑุคูุฉ ุงููููุงุช ูู ูุฏูุฑ ุงููููุงุช
- ุนูุฏ ุญุฐู ุงูุชุทุจููุ ุณุชูุญุฐู ุฌููุน ุงููููุงุช ุงูููุญููุฉ
- ูุฐุง ุงูุณููู **ุทุจูุนู ููุชูุงูู ูุน Google Play**

### โ ูููุณุชุฎุฏููู
- ุงูุชุทุจูู ุณูุนูู ุจุดูู ุทุจูุนู
- ุงูุชุญูููุงุช ุณุชุนูู ุจุฏูู ูุดุงูู
- ูุง ูุญุชุงุฌ ุฃุฐููุงุช ุฎุงุตุฉ ุนูู Android 13+
- ุงูุฎุตูุตูุฉ ูุงูุฃูุงู ูุญุณููุฉ

## ุงูุชููุนุงุช

- โ **ูุนุฏู ุงููุจูู:** 95%+
- โฑ๏ธ **ููุช ุงููุฑุงุฌุนุฉ:** 1-7 ุฃูุงู
- ๐ฏ **ุงุญุชูุงู ุงูุฑูุถ:** ููุฎูุถ ุฌุฏุงู

## ูู ุญุงูุฉ ุงูุฑูุถ ูุฑุฉ ุฃุฎุฑู

ุฅุฐุง ุชู ุฑูุถ ุงูุชุทุจูู ูุฌุฏุฏุงูุ ุชุญูู ูู:

1. ูู ุชู ุฑูุน ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ (1.0.7+7)ุ
2. ูู ุชู ุจูุงุก App Bundle ุฌุฏูุฏ ุจุนุฏ ุงูุชุนุฏููุงุชุ
3. ุฑุงุฌุน ุฑุณุงูุฉ ุงูุฑูุถ ูุดุงุฑู ุงูุชูุงุตูู

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุฃู Build ุชู ุจูุฌุงุญs
2. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู ุงูููุฏ
3. ุฑุงุฌุน ููู AndroidManifest.xml

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-12-01  
**ุงูุฅุตุฏุงุฑ:** 1.0.7+7  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฑูุน
